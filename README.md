# Hyper-Trading Automation

This project implements a simplified version of the trading automation system described in the accompanying design document.

## Features

- Fetch OHLCV price data from cryptocurrency exchanges using [CCXT](https://github.com/ccxt/ccxt) or Yahoo Finance via [yfinance](https://github.com/ranaroussi/yfinance).
- Compute technical indicators such as moving averages, EMA, SuperTrend, RSI, MACD and Bollinger Bands.
- Basic sentiment analysis from NewsAPI headlines using VADER.
- Macro indicators from Yahoo Finance and FRED (DXY, interest rates, liquidity).
- Enhanced strategy uses EMA crossovers, SuperTrend direction, RSI and Bollinger Band confirmation with optional sentiment filter for more reliable signals.
- Automatic position sizing based on account balance and risk percentage.
- MetaTrader5 Expert Advisor reads generated signals and executes orders with stop-loss and take-profit.
- Basic testing suite and GitHub Actions workflow.

### Macro data

Providing a FRED API key allows the bot to fetch the US Dollar Index, federal
funds rate and M2 money stock. These values are combined into a macroeconomic
score that influences trading signals.

## Setup

1. Install dependencies:

```bash
pip install -r requirements.txt
```

2. Run tests:

```bash
pytest -v
```

3. Example backtest:

```bash
python tests/backtest.py
```

The MetaTrader5 Expert Advisor code is located in `hypertrader/execution/hypertrader.mq5`. Compile and run this EA in the MT5 terminal. It expects a `signal.json` file generated by your Python strategy.

### Running the autonomous bot

The `hypertrader.bot` module fetches data from Yahoo Finance, optionally gathers news sentiment, and writes a trading signal with calculated position size to `signal.json`:

 ```bash
 python -m hypertrader.bot BTC-USD --account_balance 10000 --risk_percent 2 \
     --fred_api_key YOUR_FRED_KEY
 ```

Alternatively set the `FRED_API_KEY` environment variable so the bot can
retrieve macroeconomic series without specifying the flag each run.
